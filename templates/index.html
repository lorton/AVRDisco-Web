<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>DiscoAVR - AV Receiver Control</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>DiscoAVR</h1>

        <div id="status" class="status disconnected">
            Disconnected
        </div>

        <div class="connection-controls">
            <button class="btn" onclick="connect()" style="flex: 1;">Connect</button>
            <button class="btn" onclick="disconnect()" style="flex: 1;">Disconnect</button>
        </div>

        <!-- Presets / Quick Actions -->
        <div class="control-group">
            <div class="group-title">Quick Presets</div>
            <div class="button-grid">
                {% for cmd in command_groups.presets %}
                <button class="btn preset" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Power Controls -->
        <div class="control-group">
            <div class="group-title">Power</div>
            <div class="button-grid">
                {% for cmd in command_groups.power %}
                <button class="btn power" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Main Volume Controls -->
        <div class="control-group">
            <div class="group-title">Main Volume</div>
            <div class="button-grid">
                {% for cmd in command_groups.main_volume %}
                <button class="btn volume" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Main Volume Presets -->
        <div class="control-group">
            <div class="group-title">Main Volume Presets</div>
            <div class="button-grid preset-grid">
                {% for cmd in command_groups.main_volume_presets %}
                <button class="btn volume preset-small" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Zone 2 Volume -->
        <div class="control-group">
            <div class="group-title">Zone 2 Volume</div>
            <div class="button-grid">
                {% for cmd in command_groups.zone2_volume %}
                <button class="btn volume" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Zone 2 Volume Presets -->
        <div class="control-group">
            <div class="group-title">Zone 2 Volume Presets</div>
            <div class="button-grid preset-grid">
                {% for cmd in command_groups.zone2_volume_presets %}
                <button class="btn volume preset-small" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Input Sources -->
        <div class="control-group">
            <div class="group-title">Input Sources</div>
            <div class="button-grid">
                {% for cmd in command_groups.inputs %}
                <button class="btn input" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <!-- Surround Modes -->
        <div class="control-group">
            <div class="group-title">Surround Modes</div>
            <div class="button-grid">
                {% for cmd in command_groups.surround %}
                <button class="btn surround" onclick="sendCommand('{{ cmd }}')">
                    {{ command_labels[cmd] }}
                </button>
                {% endfor %}
            </div>
        </div>

        <div id="feedback" class="feedback">
            Ready to control your AV receiver
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
